[gcode_macro CENTER_NOZZLE]
gcode:
    # Home the printer first to ensure we know its position
    G28

    # Get the bed dimensions from the toolhead
    {% set bed_x_max = printer.toolhead.axis_maximum.x %}
    {% set bed_y_max = printer.toolhead.axis_maximum.y %}

    # Get the homing speed from the stepper_x section of the config
    {% set travel_speed = printer.configfile.settings.stepper_x.homing_speed %}

    # Calculate the center coordinates
    {% set center_x = bed_x_max / 2 %}
    {% set center_y = bed_y_max / 2 %}

    # Move to the center of the bed using the homing speed as the feedrate
    G0 X{center_x} Y{center_y} F{travel_speed}

[gcode_macro CENTER_PROBE]
gcode:
    # Home the printer first to know its position
    G28

    # Get the bed dimensions from the toolhead
    {% set bed_x_max = printer.toolhead.axis_maximum.x %}
    {% set bed_y_max = printer.toolhead.axis_maximum.y %}

    # Get the probe offsets from the probe section
    {% set probe_x_offset = printer.configfile.settings.probe.x_offset %}
    {% set probe_y_offset = printer.configfile.settings.probe.y_offset %}

    # Get the homing speed from the stepper_x section of the config
    {% set travel_speed = printer.configfile.settings.stepper_x.homing_speed %}

    # Calculate the center coordinates for the NOZZLE
    {% set center_x = bed_x_max / 2 %}
    {% set center_y = bed_y_max / 2 %}

    # Move the toolhead to position the PROBE at the bed center
    G0 X{(center_x) - (probe_x_offset)} Y{(center_y) - (probe_y_offset)} F{travel_speed}
